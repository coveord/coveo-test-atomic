import{g as t,h as e}from"./p-1c13d4a6.js";class n extends Error{constructor(t){super(`The "${t}" element must be the child of a configured "atomic-search-interface" element.`)}}class i extends Error{constructor(t){super(`The "${t}" element had an initialization error. Look at the developer console for more information.`)}}function o(){return(o,s)=>{const{componentWillLoad:r,render:c,componentDidRender:l,componentDidLoad:a}=o;if("bindings"!==s)return console.error(`The InitializeBindings decorator should be used on a property called "bindings", and not "${s}"`,o);o.componentWillLoad=function(){const e=t(this),o=new CustomEvent("atomic/initializeComponent",{detail:t=>{this.bindings=t;try{this.initialize&&this.initialize()}catch(t){this.error=new i(e.nodeName.toLowerCase())}},bubbles:!0,cancelable:!0,composed:!0});if(!e.dispatchEvent(o))return r&&r.call(this);this.error=new n(e.nodeName.toLowerCase())};let h=!1,d=!1;o.render=function(){return this.error?e("atomic-component-error",{element:t(this),error:this.error}):this.bindings?(h=!0,c&&c.call(this)):void 0},o.componentDidRender=function(){h&&(l&&l.call(this),d||(a&&a.call(this),d=!0))},o.componentDidLoad=function(){}}}function s(t,e){return(n,i)=>{const{connectedCallback:o,disconnectedCallback:s,initialize:r}=n;let c=()=>{};n.connectedCallback=function(){(null==e?void 0:e.subscribeOnConnectedCallback)&&this[t]&&(c=this[t].subscribe((()=>{this[i]=this[t].state,(null==e?void 0:e.onUpdateCallbackMethod)&&this[e.onUpdateCallbackMethod]&&this[e.onUpdateCallbackMethod]()}))),o&&o.call(this)},n.initialize=function(){return r&&r.call(this),r?this[t]?(null==e?void 0:e.onUpdateCallbackMethod)&&!this[e.onUpdateCallbackMethod]?console.error(`ControllerState: The onUpdateCallbackMethod property "${e.onUpdateCallbackMethod}" is not defined`,n):void(c=this[t].subscribe((()=>{this[i]=this[t].state,(null==e?void 0:e.onUpdateCallbackMethod)&&this[e.onUpdateCallbackMethod]()}))):console.error(`ControllerState: The controller property "${t}" is not defined`,n):console.error('ControllerState: The "initialize" method has to be defined and instanciate a controller for the property '+t,n)},n.disconnectedCallback=function(){c(),s&&s.call(this)}}}function r(){return(t,e)=>{const{disconnectedCallback:n,initialize:i}=t;let o=()=>{};t.initialize=function(){const t=()=>{this[e]=Object.assign({},this[e])};t(),this.bindings.i18n.on("languageChanged",t),o=()=>this.bindings.i18n.off("languageChanged",t),i&&i.call(this)},t.disconnectedCallback=function(){o(),n&&n.call(this)}}}export{s as B,o as I,r as a}