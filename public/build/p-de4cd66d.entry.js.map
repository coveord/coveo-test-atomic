{"version":3,"names":["atomicCommerceRecommendationListCss","AtomicCommerceRecommendationListStyle0","AtomicCommerceRecommendationList","this","loadingFlag","randomID","productTemplateRegistered","templateHasError","currentPage","slotId","display","gridCellLinkTarget","density","imageSize","headingLevel","watchNumberOfRecommendationsPerPage","setRenderFunction","productRenderingFunction","itemRenderingFunction","previousPage","numberOfPages","nextPage","initialize","validateProductsPerPage","validateSlotID","recommendations","buildRecommendations","bindings","engine","options","refresh","productTemplateProvider","ProductTemplateProvider","includeDefaultTemplate","templateElements","Array","from","host","querySelectorAll","getResultTemplateRegistered","getTemplateHasError","setResultTemplateRegistered","value","setTemplateHasError","itemListCommon","ItemListCommon","engineSubscribe","subscribe","getCurrentNumberOfItems","recommendationsState","products","length","getIsLoading","isLoading","nextNewItemTarget","focusTarget","store","onSelectChildProduct","event","stopPropagation","promoteChildToParent","detail","child","nextNewProductTarget","FocusTargetController","augmentedRecommendationListState","firstRequestExecuted","responseId","hasError","error","hasItems","subsetRecommendations","msg","NumberValue","min","validate","productsPerPage","Error","recListWithRecommendation","document","logger","warn","renderHeading","headline","h","Heading","level","part","class","i18n","t","currentIndex","Math","abs","slice","ceil","hasPagination","shouldRenderPagination","hasNoProducts","logWarningIfNeeded","message","getAtomicProductProps","product","interactiveProduct","renderingFunction","key","getResultId","permanentid","content","getTemplateContent","computeListDisplayClasses","displayPlaceholders","isAppLoaded","getItemListDisplayClasses","renderAsGrid","i","propsForAtomicProduct","DisplayGrid","item","clickUri","title","_a","ec_name","gridTarget","select","warningMessage","beginDelayedSelect","cancelPendingSelect","setRef","element","setNewResultRef","renderRecommendationList","updateBreakpoints","listClasses","DisplayWrapper","ResultsPlaceholdersGuard","numberOfPlaceholders","ItemDisplayGuard","map","recommendation","render","unsetLoadingFlag","Fragment","Carousel","__decorate","InitializeBindings","BindStateToController"],"sources":["src/components/commerce/atomic-commerce-recommendation-list/atomic-commerce-recommendation-list.pcss?tag=atomic-commerce-recommendation-list&encapsulation=shadow","src/components/commerce/atomic-commerce-recommendation-list/atomic-commerce-recommendation-list.tsx"],"sourcesContent":["@import '../../../global/global.pcss';\n@import '../../common/item-list/styles/mixins.pcss';\n@import '../../common/item-list/styles/placeholders.pcss';\n\n@mixin atomic-grid-clickable-elements;\n@mixin atomic-grid-display-common;\n\n/**\n * @prop --atomic-recs-number-of-columns: Number of columns for the recommendation list.\n */\n.list-root {\n  @mixin atomic-grid-with-cards;\n  grid-template-columns: repeat(var(--atomic-recs-number-of-columns, 1), minmax(0, 1fr));\n}\n\n[part='label'] {\n  font-family: var(--atomic-font-family);\n  font-size: var(--atomic-text-2xl);\n  font-weight: var(--atomic-font-bold);\n}\n","import {NumberValue} from '@coveo/bueno';\nimport {\n  Product,\n  Recommendations,\n  RecommendationsState,\n  buildRecommendations,\n} from '@coveo/headless/commerce';\nimport {\n  Component,\n  Element,\n  Fragment,\n  Listen,\n  Method,\n  Prop,\n  State,\n  Watch,\n  h,\n} from '@stencil/core';\nimport {FocusTargetController} from '../../../utils/accessibility-utils';\nimport {\n  BindStateToController,\n  InitializableComponent,\n  InitializeBindings,\n} from '../../../utils/initialization-utils';\nimport {randomID} from '../../../utils/utils';\nimport {ResultsPlaceholdersGuard} from '../../common/atomic-result-placeholder/placeholders';\nimport {Carousel} from '../../common/carousel';\nimport {Heading} from '../../common/heading';\nimport {DisplayGrid} from '../../common/item-list/display-grid';\nimport {DisplayWrapper} from '../../common/item-list/display-wrapper';\nimport {ItemDisplayGuard} from '../../common/item-list/item-display-guard';\nimport {\n  ItemListCommon,\n  ItemRenderingFunction,\n} from '../../common/item-list/item-list-common';\nimport {\n  ItemDisplayBasicLayout,\n  ItemDisplayDensity,\n  ItemDisplayImageSize,\n  ItemTarget,\n  getItemListDisplayClasses,\n} from '../../common/layout/display-options';\nimport {CommerceBindings} from '../atomic-commerce-interface/atomic-commerce-interface';\nimport {ProductTemplateProvider} from '../product-list/product-template-provider';\nimport {SelectChildProductEventArgs} from '../product-template-components/atomic-product-children/atomic-product-children';\n\n/**\n * The `atomic-commerce-recommendation-list` component displays a list of product recommendations by applying one or more product templates.\n * @internal\n *\n * @part result-list - The element containing the list of product recommendations.\n * @part result-list-grid-clickable-container - The parent of a recommended product and the clickable link encompassing it.\n * @part result-list-grid-clickable - The clickable link encompassing a recommended product.\n * @part label - The label of the recommendation list.\n * @part previous-button - The previous button.\n * @part next-button - The next button.\n * @part indicators - The list of indicators.\n * @part indicator - A single indicator.\n * @part active-indicator - The active indicator.\n */\n@Component({\n  tag: 'atomic-commerce-recommendation-list',\n  styleUrl: 'atomic-commerce-recommendation-list.pcss',\n  shadow: true,\n})\nexport class AtomicCommerceRecommendationList\n  implements InitializableComponent<CommerceBindings>\n{\n  @InitializeBindings() public bindings!: CommerceBindings;\n  public recommendations!: Recommendations;\n  private loadingFlag = randomID('firstRecommendationLoaded-');\n  private itemRenderingFunction: ItemRenderingFunction;\n  private nextNewProductTarget?: FocusTargetController;\n  private productTemplateProvider!: ProductTemplateProvider;\n  private itemListCommon!: ItemListCommon;\n\n  @Element() public host!: HTMLDivElement;\n\n  @BindStateToController('recommendations')\n  @State()\n  public recommendationsState!: RecommendationsState;\n  @State() public error!: Error;\n  @State() private productTemplateRegistered = false;\n  @State() private templateHasError = false;\n  @State() private currentPage = 0;\n\n  /**\n   * The identifier used by the Commerce API to retrieve the desired recommendation list for the component.\n   * You can configure recommendation lists and get their respective slot IDs through the Coveo Merchandising Hub (CMH).\n   * You can include multiple `atomic-commerce-recommendation-list` components with different slot IDs in the same page to display several recommendation lists.\n   */\n  @Prop({reflect: true})\n  public slotId = 'Recommendation';\n\n  /**\n   * The layout to apply when displaying the products. This does not affect the display of the surrounding list itself.\n   * To modify the number of products per column, modify the `--atomic-recs-number-of-columns` CSS variable.\n   */\n  @Prop({reflect: true}) public display: ItemDisplayBasicLayout = 'list';\n  /**\n   * The [target](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target) location to open the product link.\n   * This property is ignored unless the `display` property is set to `grid`.\n   * @defaultValue `_self`\n   */\n  @Prop() gridCellLinkTarget: ItemTarget = '_self';\n  /**\n   * The spacing of various elements in the product list, including the gap between products, the gap between parts of a product, and the font sizes of the parts of a product.\n   */\n  @Prop({reflect: true}) public density: ItemDisplayDensity = 'normal';\n  /**\n   * The expected size of the image displayed on the recommended products.\n   */\n  @Prop({reflect: true})\n  public imageSize: ItemDisplayImageSize = 'small';\n\n  /**\n   * The number of products to display per page.\n   * The products will be displayed in a carousel if this property is set.\n   * This does not affect the display of the list itself, only the number of recommendation pages.\n   * If you want to display the recommendations in a carousel with a single row, set the `--atomic-recs-number-fof-columns` CSS variable to the same value as this property.\n   */\n  @Prop({reflect: true}) public productsPerPage?: number;\n\n  /**\n   * The [heading level](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Heading_Elements) to use for the heading label, from 1 to 6.\n   */\n  @Prop({reflect: true}) public headingLevel = 0;\n\n  @Watch('productsPerPage')\n  public async watchNumberOfRecommendationsPerPage() {\n    this.currentPage = 0;\n  }\n\n  /**\n   * Sets a rendering function to bypass the standard HTML template mechanism when rendering products.\n   * You can use this function while working with web frameworks that don't use plain HTML syntax, e.g., React, Angular, or Vue.\n   *\n   * Do not use this method if you integrate Atomic in a plain HTML implementation.\n   *\n   * @param productRenderingFunction\n   */\n  @Method() public async setRenderFunction(\n    productRenderingFunction: ItemRenderingFunction\n  ) {\n    this.itemRenderingFunction = productRenderingFunction;\n  }\n\n  /**\n   * Moves to the previous page, when the carousel is activated.\n   */\n  @Method() public async previousPage() {\n    this.currentPage =\n      this.currentPage - 1 < 0 ? this.numberOfPages - 1 : this.currentPage - 1;\n  }\n\n  /**\n   * Moves to the next page, when the carousel is activated.\n   */\n  @Method() public async nextPage() {\n    this.currentPage = (this.currentPage + 1) % this.numberOfPages;\n  }\n\n  public initialize() {\n    this.validateProductsPerPage();\n    this.validateSlotID();\n\n    this.recommendations = buildRecommendations(this.bindings.engine, {\n      options: {\n        slotId: this.slotId,\n      },\n    });\n\n    this.recommendations.refresh();\n\n    this.productTemplateProvider = new ProductTemplateProvider({\n      includeDefaultTemplate: true,\n      templateElements: Array.from(\n        this.host.querySelectorAll('atomic-product-template')\n      ),\n      getResultTemplateRegistered: () => this.productTemplateRegistered,\n      getTemplateHasError: () => this.templateHasError,\n      setResultTemplateRegistered: (value: boolean) => {\n        this.productTemplateRegistered = value;\n      },\n      setTemplateHasError: (value: boolean) => {\n        this.templateHasError = value;\n      },\n    });\n\n    this.itemListCommon = new ItemListCommon({\n      engineSubscribe: this.bindings.engine.subscribe,\n      getCurrentNumberOfItems: () => this.recommendationsState.products.length,\n      getIsLoading: () => this.recommendationsState.isLoading,\n      host: this.host,\n      loadingFlag: this.loadingFlag,\n      nextNewItemTarget: this.focusTarget,\n      store: this.bindings.store,\n    });\n  }\n\n  @Listen('atomic/selectChildProduct')\n  public onSelectChildProduct(event: CustomEvent<SelectChildProductEventArgs>) {\n    event.stopPropagation();\n\n    this.recommendations.promoteChildToParent(event.detail.child);\n  }\n\n  public get focusTarget() {\n    if (!this.nextNewProductTarget) {\n      this.nextNewProductTarget = new FocusTargetController(this);\n    }\n    return this.nextNewProductTarget;\n  }\n\n  private get augmentedRecommendationListState() {\n    return {\n      ...this.recommendationsState,\n      firstRequestExecuted: this.recommendationsState.responseId !== '',\n      hasError: this.recommendationsState.error !== null,\n      hasItems: this.recommendationsState.products.length > 0,\n      products: this.subsetRecommendations,\n    };\n  }\n\n  private validateProductsPerPage() {\n    const msg = new NumberValue({\n      min: 1,\n    }).validate(this.productsPerPage!);\n\n    if (msg) {\n      this.error = new Error(`The \"productsPerPage\" is invalid: ${msg}`);\n    }\n  }\n\n  private validateSlotID() {\n    const recListWithRecommendation = document.querySelectorAll(\n      `atomic-commerce-recommendation-list[slot-id=\"${this.slotId}\"]`\n    );\n\n    if (recListWithRecommendation.length > 1) {\n      this.bindings.engine.logger.warn(\n        `There are multiple atomic-commerce-recommendation-list in this page with the same slot-id property \"${this.slotId}\". Make sure to set a different recommendation property for each.`\n      );\n    }\n  }\n\n  private renderHeading() {\n    if (!this.augmentedRecommendationListState.headline) {\n      return;\n    }\n    if (this.augmentedRecommendationListState.hasError) {\n      return;\n    }\n\n    return (\n      <Heading level={this.headingLevel} part=\"label\" class=\"m-0 mb-2\">\n        {this.bindings.i18n.t(this.recommendationsState.headline)}\n      </Heading>\n    );\n  }\n\n  private get currentIndex() {\n    return Math.abs(\n      (this.currentPage * this.productsPerPage!) %\n        this.recommendationsState.products.length\n    );\n  }\n\n  private get subsetRecommendations() {\n    if (!this.productsPerPage) {\n      return this.recommendationsState.products;\n    }\n\n    return this.recommendationsState.products.slice(\n      this.currentIndex,\n      this.currentIndex + this.productsPerPage\n    );\n  }\n\n  private get numberOfPages() {\n    return Math.ceil(\n      this.recommendationsState.products.length / this.productsPerPage!\n    );\n  }\n\n  private get hasPagination() {\n    return !!this.productsPerPage;\n  }\n\n  private get shouldRenderPagination() {\n    return this.hasPagination && this.augmentedRecommendationListState.hasItems;\n  }\n\n  private get hasNoProducts() {\n    return (\n      !this.recommendationsState.isLoading &&\n      this.augmentedRecommendationListState.products.length === 0\n    );\n  }\n\n  private logWarningIfNeeded(message?: string) {\n    if (message) {\n      this.bindings.engine.logger.warn(message);\n    }\n  }\n\n  private getAtomicProductProps(product: Product) {\n    return {\n      interactiveProduct: this.recommendations.interactiveProduct({\n        options: {product},\n      }),\n      product: product,\n      renderingFunction: this.itemRenderingFunction,\n      loadingFlag: this.loadingFlag,\n      key: this.itemListCommon.getResultId(\n        product.permanentid,\n        this.recommendationsState.responseId,\n        this.density,\n        this.imageSize\n      ),\n      content: this.productTemplateProvider.getTemplateContent(product),\n      store: this.bindings.store,\n      density: this.density,\n      display: this.display,\n      imageSize: this.imageSize,\n    };\n  }\n\n  private computeListDisplayClasses() {\n    const displayPlaceholders = !this.bindings.store.isAppLoaded();\n\n    return getItemListDisplayClasses(\n      'grid',\n      this.density,\n      this.imageSize,\n      this.recommendationsState.isLoading,\n      displayPlaceholders\n    );\n  }\n\n  private renderAsGrid(product: Product, i: number) {\n    const propsForAtomicProduct = this.getAtomicProductProps(product);\n    const {interactiveProduct} = propsForAtomicProduct;\n    return (\n      <DisplayGrid\n        item={{\n          ...product,\n          clickUri: product.clickUri,\n          title: product.ec_name ?? '',\n        }}\n        gridTarget={this.gridCellLinkTarget}\n        select={() => {\n          this.logWarningIfNeeded(interactiveProduct.warningMessage);\n          interactiveProduct.select();\n        }}\n        beginDelayedSelect={() => {\n          this.logWarningIfNeeded(interactiveProduct.warningMessage);\n          interactiveProduct.beginDelayedSelect();\n        }}\n        cancelPendingSelect={() => {\n          this.logWarningIfNeeded(interactiveProduct.warningMessage);\n          interactiveProduct.cancelPendingSelect();\n        }}\n        setRef={(element) =>\n          element && this.itemListCommon.setNewResultRef(element, i)\n        }\n      >\n        <atomic-product {...propsForAtomicProduct}></atomic-product>\n      </DisplayGrid>\n    );\n  }\n\n  private renderRecommendationList() {\n    this.itemListCommon.updateBreakpoints();\n    const listClasses = this.computeListDisplayClasses();\n\n    if (\n      !this.productTemplateRegistered ||\n      this.productTemplateProvider.hasError ||\n      this.error\n    ) {\n      return;\n    }\n\n    return (\n      <DisplayWrapper listClasses={listClasses} display=\"grid\">\n        <ResultsPlaceholdersGuard\n          density={this.density}\n          display={this.display}\n          imageSize={this.imageSize}\n          displayPlaceholders={!this.bindings.store.isAppLoaded()}\n          numberOfPlaceholders={\n            this.productsPerPage ?? this.recommendationsState.products.length\n          }\n        ></ResultsPlaceholdersGuard>\n        <ItemDisplayGuard {...this.augmentedRecommendationListState}>\n          {this.subsetRecommendations.map((recommendation, i) => {\n            return this.renderAsGrid(recommendation, i);\n          })}\n        </ItemDisplayGuard>\n      </DisplayWrapper>\n    );\n  }\n\n  public render() {\n    if (this.hasNoProducts) {\n      this.bindings.store.unsetLoadingFlag(this.loadingFlag);\n      return;\n    }\n    return (\n      <Fragment>\n        {this.renderHeading()}\n        {this.shouldRenderPagination ? (\n          <Carousel\n            bindings={this.bindings}\n            currentPage={this.currentPage}\n            nextPage={() => this.nextPage()}\n            previousPage={() => this.previousPage()}\n            numberOfPages={this.numberOfPages}\n          >\n            <div class=\"px-3\">{this.renderRecommendationList()}</div>\n          </Carousel>\n        ) : (\n          this.renderRecommendationList()\n        )}\n      </Fragment>\n    );\n  }\n}\n"],"mappings":"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"}