{"version":3,"names":["FacetSearchInput","props","label","i18n","t","search","facetSearch","clear","inputRef","h","class","part","type","placeholder","value","query","onInput","e","onChange","target","ref","icon","SearchIcon","Button","style","title","onClick","onClear","focus","CloseIcon","matchesFound","key","escape","interpolation","escapeValue","clickableMoreMatchesFound","FacetSearchMatches","numberOfMatches","innerHTML","hasMoreMatches","showMoreMatches"],"sources":["src/components/common/facets/facet-search/facet-search-input.tsx","src/components/common/facets/facet-search/facet-search-matches.tsx"],"sourcesContent":["import {FunctionalComponent, h} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport CloseIcon from '../../../../images/close.svg';\nimport SearchIcon from '../../../../images/search.svg';\nimport {Button} from '../../button';\n\ninterface FacetSearchInputProps {\n  label: string;\n  query: string;\n  i18n: i18n;\n  onClear(): void;\n  onChange(value: string): void;\n}\n\nexport const FacetSearchInput: FunctionalComponent<FacetSearchInputProps> = (\n  props\n) => {\n  const label = props.i18n.t(props.label);\n  const search = props.i18n.t('facet-search-input');\n  const facetSearch = props.i18n.t('facet-search', {label});\n  const clear = props.i18n.t('clear');\n  let inputRef: HTMLInputElement | undefined;\n\n  return (\n    <div class=\"px-2 mt-3\" part=\"search-wrapper\">\n      <div class=\"relative h-10\">\n        <input\n          part=\"search-input\"\n          class=\"input-primary w-full h-full px-9 placeholder-neutral-dark text-sm group\"\n          type=\"text\"\n          placeholder={search}\n          aria-label={facetSearch}\n          value={props.query}\n          onInput={(e) => props.onChange((e.target as HTMLInputElement).value)}\n          ref={(ref) => (inputRef = ref)}\n        />\n        <div class=\"search-icon pointer-events-none absolute inline-flex justify-center items-center left-0 w-9 h-full text-on-background\">\n          <atomic-icon part=\"search-icon\" icon={SearchIcon}></atomic-icon>\n        </div>\n        {props.query !== '' && (\n          <Button\n            style=\"text-transparent\"\n            title={clear}\n            class=\"search-clear-button absolute inline-flex justify-center items-center right-px w-9 top-px bottom-px\"\n            onClick={() => {\n              props.onClear();\n              inputRef!.focus();\n            }}\n          >\n            <atomic-icon\n              part=\"search-clear-button\"\n              icon={CloseIcon}\n            ></atomic-icon>\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n","import {FunctionalComponent, h} from '@stencil/core';\nimport escape from 'escape-html';\nimport {i18n} from 'i18next';\nimport {Button} from '../../button';\n\ninterface FacetSearchMatchesProps {\n  i18n: i18n;\n  query: string;\n  numberOfMatches: number;\n  hasMoreMatches: boolean;\n  showMoreMatches?: () => void;\n}\n\n//TODO: change to noMatchesFound & remove the key in https://coveord.atlassian.net/browse/KIT-3368\nfunction matchesFound(\n  key: 'more-matches-for' | 'no-matches-found-for',\n  query: string,\n  i18n: i18n\n) {\n  return i18n.t(key, {\n    query: `<span class=\"font-bold italic text-on-background\" part=\"matches-query\">${escape(\n      query\n    )}</span>`,\n    interpolation: {escapeValue: false},\n  });\n}\n\nfunction clickableMoreMatchesFound(query: string, i18n: i18n) {\n  return i18n.t('more-matches-for', {\n    query: `<span class=\"font-bold italic\" part=\"matches-query\">${escape(\n      query\n    )}</span>`,\n    interpolation: {escapeValue: false},\n  });\n}\n\nexport const FacetSearchMatches: FunctionalComponent<\n  FacetSearchMatchesProps\n> = (props) => {\n  if (!props.numberOfMatches) {\n    return (\n      <div class=\"px-2\">\n        <div\n          part=\"no-matches\"\n          class=\"truncate p-3 bg-neutral-light text-neutral-dark text-sm rounded\"\n          innerHTML={matchesFound(\n            'no-matches-found-for',\n            props.query,\n            props.i18n\n          )}\n        ></div>\n      </div>\n    );\n  }\n\n  if (props.hasMoreMatches) {\n    if (props.showMoreMatches) {\n      return (\n        <div class=\"px-2\">\n          <Button\n            style=\"text-primary\"\n            class=\"mt-3 p-2\"\n            onClick={props.showMoreMatches}\n          >\n            <div\n              part=\"more-matches\"\n              class=\"truncate text-sm\"\n              innerHTML={clickableMoreMatchesFound(props.query, props.i18n)}\n            ></div>\n          </Button>\n        </div>\n      );\n    }\n    return (\n      <div class=\"px-2\">\n        <div\n          part=\"more-matches\"\n          class=\"truncate mt-3 text-neutral-dark text-sm\"\n          innerHTML={matchesFound('more-matches-for', props.query, props.i18n)}\n        ></div>\n      </div>\n    );\n  }\n};\n"],"mappings":"0LAcaA,EACXC,IAEA,MAAMC,EAAQD,EAAME,KAAKC,EAAEH,EAAMC,OACjC,MAAMG,EAASJ,EAAME,KAAKC,EAAE,sBAC5B,MAAME,EAAcL,EAAME,KAAKC,EAAE,eAAgB,CAACF,UAClD,MAAMK,EAAQN,EAAME,KAAKC,EAAE,SAC3B,IAAII,EAEJ,OACEC,EAAA,OAAKC,MAAM,YAAYC,KAAK,kBAC1BF,EAAA,OAAKC,MAAM,iBACTD,EAAA,SACEE,KAAK,eACLD,MAAM,0EACNE,KAAK,OACLC,YAAaR,EAAM,aACPC,EACZQ,MAAOb,EAAMc,MACbC,QAAUC,GAAMhB,EAAMiB,SAAUD,EAAEE,OAA4BL,OAC9DM,IAAMA,GAASZ,EAAWY,IAE5BX,EAAA,OAAKC,MAAM,yHACTD,EAAA,eAAaE,KAAK,cAAcU,KAAMC,KAEvCrB,EAAMc,QAAU,IACfN,EAACc,EAAM,CACLC,MAAM,mBACNC,MAAOlB,EACPG,MAAM,qGACNgB,QAAS,KACPzB,EAAM0B,UACNnB,EAAUoB,OAAO,GAGnBnB,EAAA,eACEE,KAAK,sBACLU,KAAMQ,MAKV,EC1CV,SAASC,EACPC,EACAhB,EACAZ,GAEA,OAAOA,EAAKC,EAAE2B,EAAK,CACjBhB,MAAO,0EAA0EiB,EAC/EjB,YAEFkB,cAAe,CAACC,YAAa,QAEjC,CAEA,SAASC,EAA0BpB,EAAeZ,GAChD,OAAOA,EAAKC,EAAE,mBAAoB,CAChCW,MAAO,uDAAuDiB,EAC5DjB,YAEFkB,cAAe,CAACC,YAAa,QAEjC,C,MAEaE,EAERnC,IACH,IAAKA,EAAMoC,gBAAiB,CAC1B,OACE5B,EAAA,OAAKC,MAAM,QACTD,EAAA,OACEE,KAAK,aACLD,MAAM,kEACN4B,UAAWR,EACT,uBACA7B,EAAMc,MACNd,EAAME,Q,CAOhB,GAAIF,EAAMsC,eAAgB,CACxB,GAAItC,EAAMuC,gBAAiB,CACzB,OACE/B,EAAA,OAAKC,MAAM,QACTD,EAACc,EAAM,CACLC,MAAM,eACNd,MAAM,WACNgB,QAASzB,EAAMuC,iBAEf/B,EAAA,OACEE,KAAK,eACLD,MAAM,mBACN4B,UAAWH,EAA0BlC,EAAMc,MAAOd,EAAME,S,CAMlE,OACEM,EAAA,OAAKC,MAAM,QACTD,EAAA,OACEE,KAAK,eACLD,MAAM,0CACN4B,UAAWR,EAAa,mBAAoB7B,EAAMc,MAAOd,EAAME,Q"}