{"version":3,"names":["ELLIPSIS","SEPARATOR","limitPath","path","pathLimit","length","join","ellipsedPath","slice","joinBreadcrumbValues","breadcrumb","Array","isArray","formattedValue","getFirstBreadcrumbValue","BreadcrumbButton","props","children","classNames","fullValue","value","title","label","isExclusion","state","h","class","key","Button","ref","setRef","part","style","ariaLabel","i18n","t","onClick","onSelectBreadcrumb","BreadcrumbClearAll","text","BreadcrumbContainer","isCollapsed","BreadcrumbContent","activeColor","Fragment","content","_a","icon","CloseIcon","BreadcrumbShowLess","onShowLess","BreadcrumbShowMore","onShowMore","numberOfCollapsedBreadcrumbs"],"sources":["src/components/common/breadbox/breadcrumb-utils.ts","src/components/common/breadbox/breadcrumb-button.tsx","src/components/common/breadbox/breadcrumb-clear-all.tsx","src/components/common/breadbox/breadcrumb-container.tsx","src/components/common/breadbox/breadcrumb-content.tsx","src/components/common/breadbox/breadcrumb-show-less.tsx","src/components/common/breadbox/breadcrumb-show-more.tsx"],"sourcesContent":["import {Breadcrumb} from './breadcrumb-types';\n\nconst ELLIPSIS = '...';\nconst SEPARATOR = ' / ';\n\nfunction limitPath(path: string[], pathLimit: number) {\n  if (path.length <= pathLimit) {\n    return path.join(SEPARATOR);\n  }\n\n  if (pathLimit === 1 && path.length > 1) {\n    return [ELLIPSIS, path[path.length - 1]].join(SEPARATOR);\n  }\n\n  const ellipsedPath = [path[0], ELLIPSIS, ...path.slice(-(pathLimit - 1))];\n  return ellipsedPath.join(SEPARATOR);\n}\n\nexport function joinBreadcrumbValues(breadcrumb: Breadcrumb) {\n  return Array.isArray(breadcrumb.formattedValue)\n    ? breadcrumb.formattedValue.join(SEPARATOR)\n    : breadcrumb.formattedValue;\n}\n\nexport function getFirstBreadcrumbValue(\n  breadcrumb: Breadcrumb,\n  pathLimit: number\n) {\n  return Array.isArray(breadcrumb.formattedValue)\n    ? limitPath(breadcrumb.formattedValue, pathLimit)\n    : breadcrumb.formattedValue;\n}\n","import {FunctionalComponent, h} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport {Button} from '../button';\nimport {Breadcrumb} from './breadcrumb-types';\nimport {\n  joinBreadcrumbValues,\n  getFirstBreadcrumbValue,\n} from './breadcrumb-utils';\n\nexport interface BreadcrumbButtonProps {\n  onSelectBreadcrumb: () => void;\n  setRef: (el: HTMLButtonElement) => void;\n  pathLimit: number;\n  breadcrumb: Breadcrumb;\n  i18n: i18n;\n}\n\nexport const BreadcrumbButton: FunctionalComponent<BreadcrumbButtonProps> = (\n  props,\n  children\n) => {\n  const classNames = [\n    'py-2',\n    'px-3',\n    'flex',\n    'items-center',\n    'btn-pill',\n    'group',\n  ];\n\n  const fullValue = joinBreadcrumbValues(props.breadcrumb);\n  const value = getFirstBreadcrumbValue(props.breadcrumb, props.pathLimit);\n  const title = `${props.breadcrumb.label}: ${fullValue}`;\n  const isExclusion = props.breadcrumb.state === 'excluded';\n\n  return (\n    <li class=\"breadcrumb\" key={value}>\n      <Button\n        ref={props.setRef}\n        part=\"breadcrumb-button\"\n        style={isExclusion ? 'outline-error' : 'outline-bg-neutral'}\n        class={classNames.join(' ')}\n        title={title}\n        // TODO: [KIT-2939] Replace `remove-filter-on` by `remove-include-filter-on`.\n        ariaLabel={props.i18n.t(\n          isExclusion ? 'remove-exclusion-filter-on' : 'remove-filter-on',\n          {\n            value: title,\n          }\n        )}\n        onClick={props.onSelectBreadcrumb}\n      >\n        {children}\n      </Button>\n    </li>\n  );\n};\n","import {FunctionalComponent, h} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport {Button} from '../button';\n\nexport interface BreadcrumbClearAllProps {\n  setRef: (el: HTMLButtonElement) => void;\n  onClick: ((event?: MouseEvent | undefined) => void) | undefined;\n  isCollapsed: boolean;\n  i18n: i18n;\n}\n\nexport const BreadcrumbClearAll: FunctionalComponent<\n  BreadcrumbClearAllProps\n> = (props) => {\n  return (\n    <li key=\"clear-all\">\n      <Button\n        ref={props.setRef}\n        part=\"clear\"\n        style=\"text-primary\"\n        text={props.i18n.t('clear')}\n        class=\"p-2 btn-pill\"\n        ariaLabel={props.i18n.t('clear-all-filters')}\n        onClick={props.onClick}\n      ></Button>\n    </li>\n  );\n};\n","import {h, FunctionalComponent} from '@stencil/core';\nimport {i18n} from 'i18next';\n\nexport interface BreadcrumbContainerProps {\n  isCollapsed: boolean;\n  i18n: i18n;\n}\n\nexport const BreadcrumbContainer: FunctionalComponent<\n  BreadcrumbContainerProps\n> = (props, children) => {\n  return (\n    <div part=\"container\" class=\"flex text-sm text-on-background\">\n      <span part=\"label\" class=\"font-bold py-[0.625rem] pl-0 pr-2\">\n        {props.i18n.t('with-colon', {\n          text: props.i18n.t('filters'),\n        })}\n      </span>\n      <div part=\"breadcrumb-list-container\" class=\"relative grow\">\n        <ul\n          part=\"breadcrumb-list\"\n          class={`flex gap-1 ${\n            props.isCollapsed ? 'flex-nowrap absolute w-full' : 'flex-wrap'\n          }`}\n        >\n          {children}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import {h, FunctionalComponent, Fragment} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport CloseIcon from '../../../images/close.svg';\nimport {Breadcrumb} from './breadcrumb-types';\nimport {getFirstBreadcrumbValue} from './breadcrumb-utils';\n\nexport interface BreadcrumbContentProps {\n  pathLimit: number;\n  isCollapsed: boolean;\n  i18n: i18n;\n  breadcrumb: Breadcrumb;\n}\n\nexport const BreadcrumbContent: FunctionalComponent<BreadcrumbContentProps> = (\n  props\n) => {\n  const value = getFirstBreadcrumbValue(props.breadcrumb, props.pathLimit);\n  const isExclusion = props.breadcrumb.state === 'excluded';\n  const activeColor = isExclusion ? 'error' : 'primary';\n  return (\n    <Fragment>\n      <span\n        part=\"breadcrumb-label\"\n        class={`max-w-snippet truncate group-hover:text-${activeColor} group-focus-visible:text-${activeColor} ${props.breadcrumb.state}`}\n      >\n        {props.i18n.t('with-colon', {text: props.breadcrumb.label})}\n      </span>\n      <span\n        part=\"breadcrumb-value\"\n        class={\n          props.breadcrumb.content\n            ? ''\n            : `max-w-snippet truncate ${props.breadcrumb.state}`\n        }\n      >\n        {props.breadcrumb.content ?? value}\n      </span>\n      <atomic-icon\n        part=\"breadcrumb-clear\"\n        class=\"w-2.5 h-2.5 ml-2 mt-px\"\n        icon={CloseIcon}\n      ></atomic-icon>\n    </Fragment>\n  );\n};\n","import {h, FunctionalComponent} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport {Button} from '../button';\n\nexport interface BreadcrumbShowLessProps {\n  onShowLess: () => void;\n  setRef: (el: HTMLButtonElement) => void;\n  isCollapsed: boolean;\n  i18n: i18n;\n}\n\nexport const BreadcrumbShowLess: FunctionalComponent<\n  BreadcrumbShowLessProps\n> = (props) => {\n  if (props.isCollapsed) {\n    return;\n  }\n\n  return (\n    <li key=\"show-less\">\n      <Button\n        ref={props.setRef}\n        part=\"show-less\"\n        style=\"outline-primary\"\n        text={props.i18n.t('show-less')}\n        class=\"p-2 btn-pill\"\n        onClick={props.onShowLess}\n      ></Button>\n    </li>\n  );\n};\n","import {h, FunctionalComponent} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport {Button} from '../button';\n\nexport interface BreadcrumbShowMoreProps {\n  setRef: (el: HTMLButtonElement) => void;\n  onShowMore: () => void;\n  numberOfCollapsedBreadcrumbs: number;\n  isCollapsed: boolean;\n  i18n: i18n;\n}\n\nexport const BreadcrumbShowMore: FunctionalComponent<\n  BreadcrumbShowMoreProps\n> = (props) => {\n  if (!props.isCollapsed) {\n    return;\n  }\n  return (\n    <li key=\"show-more\">\n      <Button\n        ref={props.setRef}\n        part=\"show-more\"\n        style=\"outline-primary\"\n        class=\"p-2 btn-pill whitespace-nowrap\"\n        onClick={props.onShowMore}\n        ariaLabel={props.i18n.t('show-n-more-filters', {\n          value: props.numberOfCollapsedBreadcrumbs,\n        })}\n      ></Button>\n    </li>\n  );\n};\n"],"mappings":"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"}