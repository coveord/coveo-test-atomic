{"version":3,"names":["QuerySummaryContainer","additionalClasses","children","h","class","part","QuerySummaryGuard","hasResults","hasError","firstSearchExecuted","Fragment","WrapHighlight","props","getQuerySummaryI18nParameters","getQuerySummaryData","loadingStatus","itemsForQuery","allItems","getProductQuerySummaryI18nParameters","first","last","query","total","isLoading","i18n","i18nKey","params","toLocaleString","count","highlights","ariaLiveMessage","t"],"sources":["src/components/common/query-summary/container.tsx","src/components/common/query-summary/guard.tsx","src/components/common/query-summary/utils.tsx"],"sourcesContent":["import {FunctionalComponent, h} from '@stencil/core';\n\ninterface QuerySummaryContainerProps {\n  additionalClasses?: string;\n}\nexport const QuerySummaryContainer: FunctionalComponent<\n  QuerySummaryContainerProps\n> = ({additionalClasses}, children) => {\n  return (\n    <div\n      class={`text-on-background${additionalClasses ? ` ${additionalClasses}` : ''}`}\n      part=\"container\"\n    >\n      {children}\n    </div>\n  );\n};\n","import {Fragment, FunctionalComponent, h} from '@stencil/core';\n\ninterface QuerySummaryGuardProps {\n  hasResults: boolean;\n  hasError: boolean;\n  firstSearchExecuted: boolean;\n}\nexport const QuerySummaryGuard: FunctionalComponent<QuerySummaryGuardProps> = (\n  {hasResults, hasError, firstSearchExecuted},\n  children\n) => {\n  if (hasError || (!hasResults && firstSearchExecuted)) {\n    return;\n  }\n\n  if (!firstSearchExecuted) {\n    return (\n      <div\n        part=\"placeholder\"\n        aria-hidden=\"true\"\n        class=\"h-6 my-2 w-60 bg-neutral rounded animate-pulse\"\n      ></div>\n    );\n  }\n\n  return <Fragment>{children}</Fragment>;\n};\n","import {FunctionalComponent, h} from '@stencil/core';\nimport {i18n} from 'i18next';\n\ninterface i18nKeyProps {\n  first: number;\n  last: number;\n  total: number;\n  query: string;\n  isLoading: boolean;\n  i18n: i18n;\n}\n\ninterface QuerySummaryLabels {\n  loadingStatus: string;\n  itemsForQuery: string;\n  allItems: string;\n}\n\nconst WrapHighlight: FunctionalComponent<{part?: string}> = (\n  props,\n  children\n) => {\n  return (\n    <span\n      class=\"font-bold\"\n      part={`highlight${props.part ? ` ${props.part}` : ''}`}\n    >\n      {children}\n    </span>\n  );\n};\n\nexport const getQuerySummaryI18nParameters = (props: i18nKeyProps) => {\n  return getQuerySummaryData(props, {\n    loadingStatus: 'loading-results',\n    itemsForQuery: 'showing-results-of-with-query',\n    allItems: 'showing-results-of',\n  });\n};\n\nexport const getProductQuerySummaryI18nParameters = (props: i18nKeyProps) => {\n  return getQuerySummaryData(props, {\n    loadingStatus: 'loading-products',\n    itemsForQuery: 'showing-products-of-with-query',\n    allItems: 'showing-products-of',\n  });\n};\n\nconst getQuerySummaryData = (\n  {first, last, query, total, isLoading, i18n}: i18nKeyProps,\n  {allItems, itemsForQuery, loadingStatus}: QuerySummaryLabels\n) => {\n  const i18nKey = query !== '' ? itemsForQuery : allItems;\n\n  const params = {\n    first: first.toLocaleString(),\n    last: last.toLocaleString(),\n    total: total.toLocaleString(),\n    query: query,\n    count: last,\n  };\n\n  const highlights = {\n    first: <WrapHighlight>{params.first}</WrapHighlight>,\n    last: <WrapHighlight>{params.last}</WrapHighlight>,\n    total: <WrapHighlight>{params.total}</WrapHighlight>,\n    query: <WrapHighlight part=\"query\">{params.query}</WrapHighlight>,\n  };\n\n  const ariaLiveMessage = isLoading\n    ? i18n.t(loadingStatus)\n    : i18n.t(i18nKey, params);\n\n  return {i18nKey, highlights, ariaLiveMessage};\n};\n"],"mappings":"iDAKaA,EAET,EAAEC,qBAAoBC,IAEtBC,EAAA,OACEC,MAAO,qBAAqBH,EAAoB,IAAIA,IAAsB,KAC1EI,KAAK,aAEJH,G,MCNMI,EAAiE,EAC3EC,aAAYC,WAAUC,uBACvBP,KAEA,GAAIM,IAAcD,GAAcE,EAAsB,CACpD,M,CAGF,IAAKA,EAAqB,CACxB,OACEN,EAAA,OACEE,KAAK,cAAa,cACN,OACZD,MAAM,kD,CAKZ,OAAOD,EAACO,EAAQ,KAAER,EAAoB,ECPxC,MAAMS,EAAsD,CAC1DC,EACAV,IAGEC,EAAA,QACEC,MAAM,YACNC,KAAM,YAAYO,EAAMP,KAAO,IAAIO,EAAMP,OAAS,MAEjDH,G,MAKMW,EAAiCD,GACrCE,EAAoBF,EAAO,CAChCG,cAAe,kBACfC,cAAe,gCACfC,SAAU,uB,MAIDC,EAAwCN,GAC5CE,EAAoBF,EAAO,CAChCG,cAAe,mBACfC,cAAe,iCACfC,SAAU,wBAId,MAAMH,EAAsB,EACzBK,QAAOC,OAAMC,QAAOC,QAAOC,YAAWC,SACtCP,WAAUD,gBAAeD,oBAE1B,MAAMU,EAAUJ,IAAU,GAAKL,EAAgBC,EAE/C,MAAMS,EAAS,CACbP,MAAOA,EAAMQ,iBACbP,KAAMA,EAAKO,iBACXL,MAAOA,EAAMK,iBACbN,MAAOA,EACPO,MAAOR,GAGT,MAAMS,EAAa,CACjBV,MAAOhB,EAACQ,EAAa,KAAEe,EAAOP,OAC9BC,KAAMjB,EAACQ,EAAa,KAAEe,EAAON,MAC7BE,MAAOnB,EAACQ,EAAa,KAAEe,EAAOJ,OAC9BD,MAAOlB,EAACQ,EAAa,CAACN,KAAK,SAASqB,EAAOL,QAG7C,MAAMS,EAAkBP,EACpBC,EAAKO,EAAEhB,GACPS,EAAKO,EAAEN,EAASC,GAEpB,MAAO,CAACD,UAASI,aAAYC,kBAAgB,S"}