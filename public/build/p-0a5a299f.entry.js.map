{"version":3,"names":["atomicCommerceNoProductsCss","AtomicCommerceNoProductsStyle0","AtomicCommerceNoProducts","initialize","controller","this","bindings","interfaceElement","type","buildSearch","engine","buildProductListing","summary","render","i18n","ariaMessage","getSummary","summaryState","query","state","hasProducts","h","NoItemsGuard","key","isLoading","firstSearchExecuted","firstRequestExecuted","hasResults","NoItemsContainer","MagnifyingGlass","NoItems","SearchTips","__decorate","InitializeBindings","BindStateToController","AriaLiveRegion"],"sources":["src/components/commerce/atomic-commerce-no-products/atomic-commerce-no-products.pcss?tag=atomic-commerce-no-products&encapsulation=shadow","src/components/commerce/atomic-commerce-no-products/atomic-commerce-no-products.tsx"],"sourcesContent":["@import '../../../global/global.pcss';\n","import {\n  SearchSummaryState,\n  ProductListingSummaryState,\n  Summary,\n  buildSearch,\n  buildProductListing,\n} from '@coveo/headless/commerce';\nimport {Component, State, h} from '@stencil/core';\nimport {AriaLiveRegion} from '../../../utils/accessibility-utils';\nimport {\n  BindStateToController,\n  InitializableComponent,\n  InitializeBindings,\n} from '../../../utils/initialization-utils';\nimport {NoItemsContainer} from '../../common/no-items/container';\nimport {NoItemsGuard} from '../../common/no-items/guard';\nimport {MagnifyingGlass} from '../../common/no-items/magnifying-glass';\nimport {NoItems} from '../../common/no-items/no-items';\nimport {SearchTips} from '../../common/no-items/tips';\nimport {getSummary} from '../../common/no-items/utils';\nimport {CommerceBindings} from '../atomic-commerce-interface/atomic-commerce-interface';\n\n/**\n * @internal\n *\n * The `atomic-no-products` component displays search tips when there are no products. Any additional content slotted inside of its element will be displayed as well.\n *\n * @part no-results - The text indicating that no products were found for the search.\n * @part search-tips - The search tips to help the user correct the query.\n * @part highlight - The highlighted query.\n * @part icon - The magnifying glass icon.\n *\n * @slot default - Any additional content slotted inside of its element will be displayed as well.\n */\n@Component({\n  tag: 'atomic-commerce-no-products',\n  styleUrl: 'atomic-commerce-no-products.pcss',\n  shadow: true,\n})\nexport class AtomicCommerceNoProducts\n  implements InitializableComponent<CommerceBindings>\n{\n  @InitializeBindings() public bindings!: CommerceBindings;\n  public summary!: Summary<ProductListingSummaryState | SearchSummaryState>;\n  @BindStateToController('summary')\n  @State()\n  private summaryState!: SearchSummaryState | ProductListingSummaryState;\n  @State() public error!: Error;\n  @AriaLiveRegion('no-products')\n  protected ariaMessage!: string;\n\n  public initialize() {\n    const controller =\n      this.bindings.interfaceElement.type === 'search'\n        ? buildSearch(this.bindings.engine)\n        : buildProductListing(this.bindings.engine);\n    this.summary = controller.summary();\n  }\n  render() {\n    const {\n      bindings: {i18n},\n    } = this;\n\n    this.ariaMessage = getSummary(\n      i18n,\n      'query' in this.summaryState ? this.summaryState.query : '',\n      this.summary.state.hasProducts\n    );\n\n    return (\n      <NoItemsGuard\n        isLoading={this.summaryState.isLoading}\n        firstSearchExecuted={this.summaryState.firstRequestExecuted}\n        hasResults={this.summaryState.hasProducts}\n      >\n        <NoItemsContainer>\n          <MagnifyingGlass />\n          <NoItems\n            query={'query' in this.summaryState ? this.summaryState.query : ''}\n            i18n={i18n}\n          />\n          <SearchTips i18n={i18n} />\n        </NoItemsContainer>\n      </NoItemsGuard>\n    );\n  }\n}\n"],"mappings":"oWAAA,MAAMA,EAA8B,wguCACpC,MAAAC,EAAeD,E,iXCsCFE,EAAwB,M,0EAY5B,UAAAC,GACL,MAAMC,EACJC,KAAKC,SAASC,iBAAiBC,OAAS,SACpCC,EAAYJ,KAAKC,SAASI,QAC1BC,EAAoBN,KAAKC,SAASI,QACxCL,KAAKO,QAAUR,EAAWQ,S,CAE5B,MAAAC,GACE,MACEP,UAAUQ,KAACA,IACTT,KAEJA,KAAKU,YAAcC,EACjBF,EACA,UAAWT,KAAKY,aAAeZ,KAAKY,aAAaC,MAAQ,GACzDb,KAAKO,QAAQO,MAAMC,aAGrB,OACEC,EAACC,EAAY,CAAAC,IAAA,2CACXC,UAAWnB,KAAKY,aAAaO,UAC7BC,oBAAqBpB,KAAKY,aAAaS,qBACvCC,WAAYtB,KAAKY,aAAaG,aAE9BC,EAACO,EAAgB,CAAAL,IAAA,4CACfF,EAACQ,EAAe,CAAAN,IAAA,6CAChBF,EAACS,EAAO,CAAAP,IAAA,2CACNL,MAAO,UAAWb,KAAKY,aAAeZ,KAAKY,aAAaC,MAAQ,GAChEJ,KAAMA,IAERO,EAACU,EAAU,CAAAR,IAAA,2CAACT,KAAMA,K,GAvCGkB,EAAA,CAA5BC,K,+BAIOD,EAAA,CAFPE,EAAsB,Y,mCAKbF,EAAA,CADTG,EAAe,gB"}